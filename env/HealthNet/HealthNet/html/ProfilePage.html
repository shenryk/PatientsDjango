<!-- TODO - remove shadow on tabs -->
<!-- TODO - give calendar some top padding -->
<!-- TODO - remove shadow between info sections -->

<!-- Server Side Includes to pull in head html file -->
{% include 'headExtra.html' %}
{% include 'calendarScript.html' %}

<div style="width: 10%; height:100%; float: right">
    <a class="btn waves-effect waves-light white-text blue darken-1"  style="width: 100%;"	href="/logout">Logout<i class="material-icons white right">assignment</i></a>
    <a class="btn waves-effect waves-light white-text blue darken-1" style="margin-top: 420%;" href="/export/">Export Profile<i class="material-icons right">input</i></a>
</div>
<div class=" z-depth-1 white " style="width: 75%; height: 100%; float: right;">
    <div class="row" style="padding: 0; margin: 0;">

        <!-- MENU BAR -->
        <div class="col s12 z-depth-1" style="padding: 0;">
            <!-- Top bar nav links -->
            <ul class="tabs">
                <li class="tab col s3"><a href="#calendarSection" class="active">Calendar</a></li>
                <li class="tab col s3 "><a href="#personalSection" class="active">Personal Information</a></li>
                <li class="tab col s3"><a href="#medicalSection">Medical Information</a></li>
            </ul>
        </div>
									
        <!-- Personal Information-->
        <div id="personalSection" class="col s12" style="width:100%;">
            <div id="accountInfo" class="col s12" style="padding: 5px;">
                <div class="col s12" style="text-align:center;">
                    <h5 class="col s12 blue-text text-darken-2">Account Information</h5>
                </div>

                <div class="col s2 left-align red-text text-lighten-2" style="font-size: 18px; padding:0;">
                    <b>Username: </b><br/>
                    <b>Phone:</b><br/>
                    <b>Email:</b><br/>
                </div>

                <div class="col s4 left-align" style="font-size: 18px; padding:0;">
                    {{ user.user.username}}<br/>
                    {{ user.profileInfo.phoneNumber }}<br/>
                    {{ user.profileInfo.email }}<br/>
                </div>

                <div class="col s2 left-align red-text text-lighten-2" style="font-size: 18px; padding:0;">
                    <b>Hospital:</b> <br/>
                    <b>Doctor:</b>
                </div>

                <div class="col s4 left-align" style="font-size: 18px; padding:0;">
                    {{ user.hospital.name }}<br/>
                    {{ user.doctor.user.first_name}} {{user.doctor.user.last_name}}
                </div>
            </div>
            <hr>
            <div id="personalInfo" class="valign col s12" style="padding: 20px;">
                <div class="col s12" style="text-align:center;">
                    <h5 class="blue-text text-darken-2">Personal Information</h5>
                </div>
                <div class="col s2 left-align red-text text-lighten-2" style="font-size: 18px; padding:0;">
                    <b>Name:</b><br/>
                    <b>Address:</b><br/><br/>
                    <b>Date of Birth:</b>
                </div>
                <div class="col s4 left-align" style="font-size: 18px; padding:0;">
                    {{ user.profileInfo.firstName }} {{ user.profileInfo.middleName }} {{ user.profileInfo.lastName }}<br/>
                    {{ user.profileInfo.address }}<br />{{ user.profileInfo.city }}, {{ user.profileInfo.state }}<br/>
                    {{ user.profileInfo.dateOfBirth }}<br/>
                </div>
                <div class="col s3 left-align red-text text-lighten-2" style="font-size: 18px; padding:0;">
                    <b>Insurance Provider:</b><br/>
                    <b>Policy Number:</b><br/>
                    <b>Group Number:</b><br/>
                </div>
                <div class="col s3 left-align" style="font-size: 18px; padding:0;">
                    {{ user.userInfo.provider }}<br/>
                    {{ user.userInfo.policyNumber }}<br/>
                    {{ user.userInfo.groupNumber }}
                </div>
            </div>
            <hr>
            <div id="emergencyInfo" class=" col s12" style="padding: 20px;">
                <div class="col s12" style="text-align:center; font-size: 20px">
                    <h5 class="blue-text text-darken-2">Emergency Contact</h5>
                </div>
                <div class="col s2 left-align red-text text-lighten-2" style="font-size: 18px; padding:0;">
                    <b>Name:</b>
                </div>
                <div class="col s4 left-align " style="font-size: 18px; padding:0;">
                    {{ user.profileInfo.eName }}
                </div>
                <div class="col s2 left-align red-text text-lighten-2" style="font-size: 18px; padding:0;">
                    <b>Phone:</b>
                </div>
                <div class="col s4 left-align " style="font-size: 18px; padding:0;">
                    {{ user.profileInfo.ePhoneNumber }}
                </div>
            </div>
            <hr>
            <div class="col s12 right-align" style="margin-top: 5px">
                <button class="btn modal-trigger waves-effect waves-light white-text blue darken-1" data-toggle="modal" data-target="editProfileMod">Edit<i class="material-icons right">swap_horiz</i></button>
            </div>
        </div>

        <div id="medicalSection" class="col s12 valign-wrapper" style="width:100%;">
            <div class="col s12" style="padding: 20px;">
                <div class="col s12" style="text-align:center">
                    <h5 class="blue-text text-darken-2">Medical History</h5>
                </div>
                <!-- The following loop does not work
				but it doesn't cause errors on the profile page and
				is on the right track so it stays
                {% for ncheck in newchecklist %}
                    {% if ncheck %}
                        <p>{{ checklist..name }}</p>
                    {% endif %}
                    <p>{{ iterator.next }}</p>
                {% endfor %} -->
                <div class="col s6">
                    <b> Prior History</b><br/>
                    {%if user.medicalInfo.allergies%}
                        Allergies<br/>
                    {% endif %}

                    {%if user.medicalInfo.anemia %}
                        Anemia<br/>
                    {% endif %}

                    {%if user.medicalInfo.arthritis %}
                        Arthritis<br/>
                    {% endif %}

                    {%if user.medicalInfo.chickenpox %}
                        Chicken Pox<br/>
                    {% endif %}

                    {%if user.medicalInfo.coxsackie %}
                        Coxsackie<br/>
                    {% endif %}

                    {%if user.medicalInfo.diphtheria %}
                        Diptheria<br/>
                    {% endif %}

                    {%if user.medicalInfo.epilepsy %}
                        Epilepsy<br/>
                    {% endif %}

                    {%if user.medicalInfo.frequentColds %}
                        Frequent Colds<br/>
                    {% endif %}

                    {%if user.medicalInfo.germanMeasles %}
                        German Measles<br/>
                    {% endif %}

                    {%if user.medicalInfo.highBloodPressure %}
                        High Blood Pressure<br/>
                    {% endif %}

                    {%if user.medicalInfo.influenza %}
                        Influenza<br/>
                    {% endif %}

                    {%if user.medicalInfo.kidneyDisease %}
                        Kidney Disease<br/>
                    {% endif %}

                    {%if user.medicalInfo.measles %}
                        Measles<br/>
                    {% endif %}

                    {%if user.medicalInfo.migraines %}
                        Migraines<br/>
                    {% endif %}

                    {%if user.medicalInfo.mumps %}
                        Mumps<br/>
                    {% endif %}

                    {%if user.medicalInfo.obesity %}
                        Obesity<br/>
                    {% endif %}

                    {%if user.medicalInfo.pneumonia %}
                        Pneumonia<br/>
                    {% endif %}

                    {%if user.medicalInfo.polio %}
                        Polio<br/>
                    {% endif %}

                    {%if user.medicalInfo.rheumaticFever %}
                        Rheumatic Fever<br/>
                    {% endif %}

                    {%if user.medicalInfo.scarlatina %}
                        Scarlatina<br/>
                    {% endif %}

                    {%if user.medicalInfo.scarletFever %}
                        Scarlet Fever<br/>
                    {% endif %}

                    {%if user.medicalInfo.strokes %}
                        Strokes<br/>
                    {% endif %}

                    {%if user.medicalInfo.syphilis %}
                        Syphilis<br/>
                    {% endif %}

                    {%if user.medicalInfo.tonsillitis %}
                        Tonsillitis<br/>
                    {% endif %}

                    {%if user.medicalInfo.tuberculosis %}
                        Tuberculosis<br/>
                    {% endif %}

                    {%if user.medicalInfo.whoopingCough %}
                        Whooping Cough<br/>
                    {% endif %}

                    {%if user.medicalInfo.otherText != null%}
                        {{user.medicalInfo.otherText}}<br/>
                    {% endif %}
                </div>
            </div>
        </div>

        <div id="calendarSection">
            <div id='calendar' >
            </div>
        </div>

        <div id="newAppointment" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <form action="/createAppForm/" method="POST">
                        <div class="modal-header">
                            <h4>New Appointment</h4>
                        </div>
                        <div class="modal-body">

                            <div class="col s6 input-field">
                                <label style="margin-left: 75%;" for="id_date">Date</label>
                                {{ appform.date }}
                            </div>
																	
                            <div class="col s6 input-field">

                                <select name="doctor">
                                    <option value="" disabled selected>Choose Doctor:</option>
                                    {% for singledoctor in doctorlist %}
                                        <option value="{{ singledoctor.user.username }}">
                                            {{ singledoctor.user.first_name }} {{ singledoctor.user.last_name }}
                                        </option>
                                    {% empty %}
                                        <option value="">
                                            There are no doctors in the system
                                        </option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="col s6 input-field">
                                <label style="margin-left: 75%; float:right" for="id_time">Time</label>
                                {{ appform.time }}
                            </div>
																																		
                            <div class="col s6 input-field">
                                <label for="id_description">Description</label>
                                {{ appform.description }}
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn waves-effect waves-light white-text blue darken-1" type="submit" name="action">Submit<i class="material-icons right">send</i></button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
									
        <div id="deleteAppointment" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <form id="deleteApt" action="/deleteAppForm/" method="POST">
                        <div class="modal-header">
                            <h4>Delete Appointment</h4>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to delete?
                        </div>
                        <div class="modal-footer">
                            <button class="btn waves-effect waves-light white-text blue darken-1" type="submit" name="action">Delete Appointment<i class="material-icons right">delete</i></button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
								
        <div id="editProfileMod" class="modal fade white" role="dialog">
            <div class="modal-dialog white">
                <div class="modal-content">
                    <form id="editProfile" action="/profileEdit/" method="POST">
                        <div class="modal-header">
                            <!-----------------------------------------
							<a style="float:right"><i class="material-icons waves-effect waves-light text-blue-darken-1">cancel</i></a>
							------------------------------------------->
                            <h4>Edit Profile</h4>
                        </div>
                        <div class="modal-body">

                            <div id="UserInfo" class="col s12" style="width:100%; height:100%;">
                                <div>
                                    <p style="font-size:15px">Insurance Info</p>
                                </div>

                                <div class="input-field col s12 m6">
                                    <input id="policyNumber"  value="{{user.userInfo.policyNumber}}" placeholder="{{user.userInfo.policyNumber}}" name="policyNumber" type="text" class="validate"  length="20">
                                    <label for="policyNumber">Policy Number</label>
                                </div>

                                <div class="input-field col s12 m6">
                                    <input id="provider" value="{{user.userInfo.provider}}" placeholder="{{user.userInfo.provider}}"name="provider" type="text" class="validate"  length="40">
                                    <label for="provider">Provider</label>
                                </div>
                                <!--
								<div class="input-field col s6">
								<select name="hospital">
								<option value="" disabled selected>Choose Hospital:</option>
                                {% for singlehospital in hospitallist %}
                                    <option value="{{ singlehospital.name }}">
                                        {{ singlehospital.name }}
                                    </option>
                                {% empty %}
                                    <option value="">
                                        There are no hospitals
                                    </option>
                                {% endfor %}
                                </select>
                            </div>
                            -->

                                <div class="input-field col s12 m6">
                                    <input id="groupNumber" value="{{user.userInfo.groupNumber}}" placeholder="{{user.userInfo.groupNumber}}" name="groupNumber" type="text" class="validate"  length="20">
                                    <label for="groupNumber">Group Number</label>
                                </div>
                                <!--Begin general information tab-->
                                <div id="Personal Information" class="col s12" style="width:100%; height:100%;">

                                    <!--Contatainer for left half of screen inputs-->
                                    <div class="col m6 l6" style="height:100%">
                                        <div class="col s12" style="width: 100%">
                                            <p style="font-size:15px">Personal Info</p>
                                        </div>
																		
                                        <!--Create input field for first name-->
                                        <div class="input-field col s12">
                                            <input id="first_name" value="{{user.profileInfo.firstName}}" placeholder="{{user.profileInfo.firstName}}" name="firstName" type="text" class="validate" pattern="[A-Za-z]+"  length="40">
                                            <label for="first_name">First Name</label>
                                        </div>

                                        <!--Create input field for middle name-->
                                        <div class="input-field col s12">
                                            <input id="middle_name" value="{{user.profileInfo.middleName}}" placeholder="{{user.profileInfo.middleName}}" name="middleName" type="text" class="validate" pattern="[A-Za-z]+"  length="40">
                                            <label for="middle_name">Middle Name</label>
                                        </div>

                                        <!--Create input field for last name-->
                                        <div class="input-field col s12">
                                            <input id="last_name" value="{{user.profileInfo.lastName}}" placeholder="{{user.profileInfo.lastName}}" name="lastName" type="text" class="validate" pattern="[A-Za-z]+"  length="40">
                                            <label for="last_name">Last Name</label>
                                        </div>

                                        <!--Create input field for email address-->
                                        <div class="input-field col s12">
                                            <input id="email" value="{{user.profileInfo.email}}" placeholder="{{user.profileInfo.email}}" name="email" type="email" class="validate"  length="40">
                                            <label for="email">Email Address</label>
                                        </div>
																		
                                        <!--Create input field for date of birth-->
                                        <div class="input-field col s12">
                                            <input id="dateOfBirth" value="{{user.profileInfo.dateOfBirth}}" placeholder="{{user.profileInfo.dateOfBirth}}" name="dateOfBirth" type="text" class="validate" pattern="[0-9]{2}[\/][0-9]{2}[\/][0-9]{4}" length="40">
                                            <label for="dateOfBirth">Birthdate MM/DD/YYYY</label>
                                        </div>
                                    </div>


                                    <!--Contatainer for right half of screen inputs-->
                                    <div class="col m6 l6">
                                        <div class="input-field col s12">
                                            <input id="address" type="text" value="{{user.profileInfo.address}}" placeholder="{{user.profileInfo.address}}" name="address" class="validate" pattern="[A-Za-z0-9 ]+"  length="50">
                                            <label for="address">Street Address</label>
                                        </div>
																			
                                        <div class="input-field col s12">
                                            <input id="city" type="text" value="{{user.profileInfo.city}}" placeholder="{{user.profileInfo.city}}" name="city" class="validate" pattern="[A-Za-z ]+"  length="40">
                                            <label for="city">City</label>
                                        </div>
                                        <div class="input-field col s3">
                                            <select name="state">
                                                <option value="" disabled selected>State:</option>
                                                <option value="Alabama">Alabama</option>
                                                <option value="Alaska">Alaska</option>
                                                <option value="Arizona">Arizona</option>
                                                <option value="Arkansas">Arkansas</option>
                                                <option value="California">California</option>
                                                <option value="Colorado">Colorado</option>
                                                <option value="Connecticut">Connecticut</option>
                                                <option value="Delaware">Delaware</option>
                                                <option value="Florida">Florida</option>
                                                <option value="Georgia">Georgia</option>
                                                <option value="Hawaii">Hawaii</option>
                                                <option value="Idaho">Idaho</option>
                                                <option value="Illinois">Illinois</option>
                                                <option value="Indiana">Indiana</option>
                                                <option value="Iowa">Iowa</option>
                                                <option value="Kansas">Kansas</option>
                                                <option value="Kentucky">Kentucky</option>
                                                <option value="Louisiana">Louisiana</option>
                                                <option value="Maine">Maine</option>
                                                <option value="Maryland">Maryland</option>
                                                <option value="Massachusetts">Massachusetts</option>
                                                <option value="Michigan">Michigan</option>
                                                <option value="Minnesota">Minnesota</option>
                                                <option value="Mississippi">Mississippi</option>
                                                <option value="Missouri">Missouri</option>
                                                <option value="Montana">Montana</option>
                                                <option value="Nebraska">Nebraska</option>
                                                <option value="Nevada">Nevada</option>
                                                <option value="New Hampshire">New Hampshire</option>
                                                <option value="New Jersey">New Jersey</option>
                                                <option value="New Mexico">New Mexico</option>
                                                <option value="New York">New York</option>
                                                <option value="North Carolina">North Carolina</option>
                                                <option value="North Dakota">North Dakota</option>
                                                <option value="Ohio">Ohio</option>
                                                <option value="Oklahoma">Oklahoma</option>
                                                <option value="Oregon">Oregon</option>
                                                <option value="Pennsylvannia">Pennsylvannia</option>
                                                <option value="Rhode Island">Rhode Island</option>
                                                <option value="South Carolina">South Carolina</option>
                                                <option value="South Dakota">South Dakota</option>
                                                <option value="Tennessee">Tennessee</option>
                                                <option value="Texas">Texas</option>
                                                <option value="Utah">Utah</option>
                                                <option value="Vermont">Vermont</option>
                                                <option value="Virginia">Virginia</option>
                                                <option value="Washington">Washington</option>
                                                <option value="West Virginia">West Virginia</option>
                                                <option value="Wisconsin">Wisconsin</option>
                                                <option value="Wyoming">Wyoming</option>
                                            </select>
                                        </div>

                                        <div class="input-field col s3">
                                            <input id="zipcode" value="{{user.profileInfo.zipcode}}" placeholder="{{user.profileInfo.zipcode}}" name="zipcode" type="text" class="validate" pattern="[0-9]{5}"  length="5">
                                            <label for="zipcode">Zipcode</label>
                                        </div>

                                        <div class="input-field col s12">
                                            <input id="phoneNumber" value="{{user.profileInfo.phoneNumber}}" placeholder="{{user.profileInfo.phoneNumber}}" name="phoneNumber" type="text" class="validate" pattern="[0-9]{7,10}" length="10">
                                            <label for="phoneNumber">Phone Number</label>
                                        </div>
                                        <!--
		        						<div class="input-field col s6">
										<select name="doctor">
										<option value="" disabled selected>Choose Doctor:</option>
										{% for singledoctor in doctorlist %}
											<option value="{{ singledoctor.user.username }}">
			    								{{ singledoctor.profileInfo.firstName }}
											</option>
										{% empty %}
											<option value="">
												There are no doctors in the system
											</option>
										{% endfor %}
										</select>
				        				</div>
										-->
                                    </div>

                                    <div class="col s12">
                                        <div>
                                            <p style="font-size:15px">Emergency Contact Info</p>
                                            <div class="input-field col s6">
                                                <input id="eName" value="{{user.profileInfo.eName}}" placeholder="{{user.profileInfo.eName}}" name="eName" type="text" class="validate" pattern="[ A-Za-z]+"  length="40">
                                                <label for="eName">Name</label>
                                            </div>

                                            <div class="input-field col s6">
                                                <input id="ePhoneNumber" value="{{user.profileInfo.ePhoneNumber}}" placeholder="{{user.profileInfo.ePhoneNumber}}" name="ePhoneNumber" type="text" class="validate" pattern="[0-9]{7,10}" length="10">
                                                <label for="ePhoneNumber">Phone Number</label>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button class="btn waves-effect waves-light white-text blue darken-1" type="submit" name="action">Confirm<i class="material-icons right">swap_horiz</i></button>
                            </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Close the tags opened in head.html -->
</body>
</html>